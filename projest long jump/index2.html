<!doctype html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <title>Reiner Kniziaâ€™s Decathlon</title>
        <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.6/build/pure-min.css" integrity="sha384-Uu6IeWbM+gzNVXJcM9XV3SohHtmWE+3VGi496jvgX1jyvDTXfdK+rfZc8C1Aehk5" crossorigin="anonymous">
        <link href="main.css" rel="stylesheet">
    </head>
    <body>
        <div class="main">
            <form class="pure-form pure-form-stacked">
                <label id="info1" for="info"></label>
                <label id="info3" for="info"></label>
                <label id="info2" for="info"></label>
            </form>
            <form class="pure-form pure-g">
                <div class="pure-u-1">
                    <fieldset>
                        <embed id="img0" src="./other/running-man-fat.gif" style="display:block;width:400px;height:400px"/>
                        <!-- <embed id="img0" src="./other/pool-dive-running-bellyflop.gif" style="display:block;width:400px;height:400px"/> -->
                    </fieldset>
                </div>
                <div class="pure-u-1-5">
                    <input type="image" id="form-button1" src="./dices/inverted-dice-1.png" style="display:block;width:100px;height:100px" enabled/>
                    <!-- <embed id="img1" src="./dices/inverted-dice-1.gif" style="display:block;width:100px;height:100px"/> -->
                    <!-- <button type="submit" id="form-button1" class="pure-button pure-button-active" enabled>Freeze</button> -->
                </div>
                <div class="pure-u-1-5">
                    <input type="image" id="form-button2" src="./dices/inverted-dice-1.png" style="display:block;width:100px;height:100px" enabled/>
                    <!-- <embed id="img2" src="./dices/inverted-dice-2.gif" style="display:block;width:100px;height:100px"/> -->
                    <!-- <button type="submit" id="form-button2" class="pure-button pure-button-active" enabled>Freeze</button> -->
                </div>
                <div class="pure-u-1-5">
                    <input type="image" id="form-button3" src="./dices/inverted-dice-1.png" style="display:block;width:100px;height:100px" enabled/>
                    <!-- <embed id="img3" src="./dices/inverted-dice-3.gif" style="display:block;width:100px;height:100px"/> -->
                    <!-- <button type="submit" id="form-button3" class="pure-button pure-button-active" enabled>Freeze</button> -->
                </div>
                <div class="pure-u-1-5">
                    <input type="image" id="form-button4" src="./dices/inverted-dice-1.png" style="display:block;width:100px;height:100px" enabled/>
                    <!-- <embed id="img4" src="./dices/inverted-dice-4.gif" style="display:block;width:100px;height:100px"/> -->
                    <!-- <button type="submit" id="form-button4" class="pure-button pure-button-active" enabled>Freeze</button> -->
                </div>
                <div class="pure-u-1-5">
                    <input type="image" id="form-button5" src="./dices/inverted-dice-1.png" style="display:block;width:100px;height:100px" enabled/>
                    <!-- <embed id="img5" src="./dices/inverted-dice-5.gif" style="display:block;width:100px;height:100px"/> -->
                    <!-- <button type="submit" id="form-button5" class="pure-button pure-button-active" enabled>Freeze</button> -->
                </div>
            </form>
            <form class="pure-form pure-form-stacked">
                <fieldset>
                    <button type="submit" id="form-button6" class="pure-button pure-button-primary" enabled>Throw the dices</button>
                    <button type="submit" id="form-button7" class="pure-button pure-button-primary" enabled>Go to next step</button>
                </fieldset>
            </form>
            <script src="./longjump2.js"></script>
            <script>
                var mmode = 0;
                function dicesEnb() {
                    document.querySelector("#form-button1").disabled = dices_enb[0];
                    document.querySelector("#form-button2").disabled = dices_enb[1];
                    document.querySelector("#form-button3").disabled = dices_enb[2];
                    document.querySelector("#form-button4").disabled = dices_enb[3];
                    document.querySelector("#form-button5").disabled = dices_enb[4];
                }
                function dicesGet() {
                    document.querySelector("#form-button1").src = dices_str[0];
                    document.querySelector("#form-button2").src = dices_str[1];
                    document.querySelector("#form-button3").src = dices_str[2];
                    document.querySelector("#form-button4").src = dices_str[3];
                    document.querySelector("#form-button5").src = dices_str[4];
                }
                function dicesInfo() {
                    document.querySelector("#info1").textContent = infoStr;
                    document.querySelector("#info2").textContent = warnStr;
                }
                document.querySelector("#form-button1").disabled = true;
                document.querySelector("#form-button2").disabled = true;
                document.querySelector("#form-button3").disabled = true;
                document.querySelector("#form-button4").disabled = true;
                document.querySelector("#form-button5").disabled = true;
                document.querySelector("#form-button6").disabled = showEnb;
                document.querySelector("#form-button7").disabled = stepEnb;
                dicesInfo();
                document.querySelector("#form-button6").addEventListener("click", (event) => {
                    if(mmode == 0) {
                        document.querySelector("#form-button6").textContent = "Cease the dices";
                        document.querySelector("#form-button6").disabled = false;
                        mmode = 1;
                        throwDiceRand();
                        detectFreeze('6');
                        dicesEnb();
                        getDicesVal(1);
                        dicesGet();
                    } else {
                        document.querySelector("#form-button6").textContent = "Throw the dices";
                        document.querySelector("#form-button6").disabled = true;
                        throwDiceRand();
                        detectFreeze('6');
                        dicesEnb();
                        getDicesVal(0);
                        dicesGet();
                        mmode = 0;
                    }
                    event.preventDefault();
                })
                document.querySelector("#form-button7").addEventListener("click", (event) => {
                    document.querySelector("#form-button7").textContent = nextStepSetup();
                    detectFreeze('6');
                    dicesEnb();
                    getDicesVal(0);
                    dicesGet();
                    dicesInfo();
                    document.querySelector("#info3").textContent = getScore();
                    document.querySelector("#form-button6").disabled = showEnb;
                    document.querySelector("#form-button7").disabled = stepEnb;
                    document.querySelector("#img0").src = ImgChange();
                    event.preventDefault();
                })
                document.querySelector("#form-button1").addEventListener("click", (event) => {
                    detectFreeze('1');
                    dicesEnb();
                    getDicesVal(0);
                    dicesGet();
                    dicesInfo();
                    document.querySelector("#form-button6").disabled = showEnb;
                    document.querySelector("#form-button7").disabled = stepEnb;
                    event.preventDefault();
                })
                document.querySelector("#form-button2").addEventListener("click", (event) => {
                    detectFreeze('2');
                    dicesEnb();
                    getDicesVal(0);
                    dicesGet();
                    dicesInfo();
                    document.querySelector("#form-button6").disabled = showEnb;
                    document.querySelector("#form-button7").disabled = stepEnb;
                    event.preventDefault();
                })
                document.querySelector("#form-button3").addEventListener("click", (event) => {
                    detectFreeze('3');
                    dicesEnb();
                    getDicesVal(0);
                    dicesGet();
                    dicesInfo();
                    document.querySelector("#form-button6").disabled = showEnb;
                    document.querySelector("#form-button7").disabled = stepEnb;
                    event.preventDefault();
                })
                document.querySelector("#form-button4").addEventListener("click", (event) => {
                    detectFreeze('4');
                    dicesEnb();
                    getDicesVal(0);
                    dicesGet();
                    dicesInfo();
                    document.querySelector("#form-button6").disabled = showEnb;
                    document.querySelector("#form-button7").disabled = stepEnb;
                    event.preventDefault();
                })
                document.querySelector("#form-button5").addEventListener("click", (event) => {
                    detectFreeze('5');
                    dicesEnb();
                    getDicesVal(0);
                    dicesGet();
                    dicesInfo();
                    document.querySelector("#form-button6").disabled = showEnb;
                    document.querySelector("#form-button7").disabled = stepEnb;
                    event.preventDefault();
                })
            </script>
    </body>
</html>
